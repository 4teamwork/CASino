<div class="container">
  <div class="twofactor box">
    <%= render 'messages' %>
    <div class="info">
      <h1><%= t('two_factor_authenticators.setup') %></h1>
      <h3><%= ROTP::TOTP.new(@two_factor_authenticator.secret).now %></h3>
      <p>
        <%= t('two_factor_authenticators.description').html_safe %>
      </p>
      <div id="qr-code">
        <img src="<%= otp_qr_code_data_url(@two_factor_authenticator) %>" height="250" width="250"><br />
      </div>
      <p>
        <%= t('two_factor_authenticators.instructions') %>
      </p>
    </div>

    <div class="form">
      <%= form_tag(sms_two_factor_authenticators_path, method: :post) do %>
        <%= hidden_field_tag :id, @two_factor_authenticator.id %>
	<%= hidden_field_tag :phone_number, phone_number %>
        <%= label_tag :code, t('two_factor_authenticators.code') %>
        <%= text_field_tag :code, nil, maxlength: 6, autofocus: true, autocomplete: 'off' %>
        <%= link_to t('two_factor_authenticators.cancel'), sessions_path, :class => 'secondary button' %>
        <%= button_tag t('two_factor_authenticators.submit'), :class => 'button' %>
      <% end %>
    </div>
  </div>
  <%= render 'footer' %>
</div>
